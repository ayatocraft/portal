<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AyatoCraft Portal</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#bad4f5">

<style>
body {
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  background: #bad4f5;
  color: #333;
  text-align: center;
}
button, a.tab-link {
  margin: 12px;
  padding: 12px 24px;
  font-size: 18px;
  background-color: #f06292;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  text-decoration: none;
}
button:hover, a.tab-link:hover { background-color: #ec407a; }
</style>
</head>
<body>

<h1>AyatoCraft Portal</h1>
<p>固定タブとしてこのページが表示されています。</p>

<!-- GitHub に移動 -->
<button id="redirectBtn">GitHub に移動</button>

<!-- 新しいタブボタン -->
<a href="./" class="tab-link">新しいタブを開く</a>

<!-- scope外リンク（ブラウザで開く） -->
<a href="https://www.google.com" class="tab-link">Out of scope link</a>

<script>
const redirectBtn = document.getElementById('redirectBtn');
redirectBtn.addEventListener('click', () => {
  if (window.matchMedia('(display-mode: standalone)').matches) {
    // PWA 内のタブで開く
    window.open('https://github.com/ayatocraft', '_tab');
  } else {
    // ブラウザなら新しいタブ
    window.open('https://github.com/ayatocraft', '_blank');
  }
});
</script>
</body>
</html>
